(library
  (name pocaml))

(alias
  (name default)
  (deps
    (alias ocamllex)
    (alias ocamlyacc)))

(ocamllex
  (modules lexer))

(ocamlyacc
  (modules parser))

(rule
  (alias yacc_log)
  (deps parser.mly)
  (targets parser.output)
  (action (run ocamlyacc -v %{deps})))